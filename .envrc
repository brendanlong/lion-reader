dotenv

export ANDROID_HOME=~/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/platform-tools

# Parse DATABASE_URL to set psql environment variables
if [[ -n "$DATABASE_URL" ]]; then
  # Remove protocol prefix (postgresql:// or postgres://)
  url_without_protocol="${DATABASE_URL#*://}"

  # Extract user:password@host:port/database
  userinfo="${url_without_protocol%%@*}"
  hostinfo="${url_without_protocol#*@}"

  # Extract user and password
  export PGUSER="${userinfo%%:*}"
  export PGPASSWORD="${userinfo#*:}"

  # Extract host:port and database
  hostport="${hostinfo%%/*}"
  export PGDATABASE="${hostinfo#*/}"

  # Extract host and port
  export PGHOST="${hostport%%:*}"
  export PGPORT="${hostport#*:}"
fi
